{"version":3,"sources":["components/Product.js","redux/constants/productConstants.js","screens/HomeScreen.js","redux/actions/productActions.js","redux/constants/cartConstants.js","redux/actions/cartActions.js","screens/ProductScreen.js","components/CartItem.js","screens/CartScreen.js","components/Navbar.js","components/Backdrop.js","components/SideDrawer.js","App.js","reportWebVitals.js","redux/store.js","redux/reducers/cartReducers.js","redux/reducers/productReducers.js","index.js"],"names":["Product","imageUrl","name","price","description","productId","className","src","alt","substring","to","GET_PRODUCTS_REQUEST","GET_PRODUCTS_SUCCESS","GET_PRODUCTS_FAIL","GET_PRODUCT_DETAILS_REQUEST","GET_PRODUCT_DETAILS_SUCCESS","GET_PRODUCT_DETAILS_FAIL","GET_PRODUCT_DETAILS_RESET","HomeScreen","dispatch","useDispatch","getProducts","useSelector","state","products","loading","error","useEffect","a","type","actionTypes","axios","get","data","payload","response","message","console","log","map","product","_id","ADD_TO_CART","REMOVE_FROM_CART","addToCart","id","qty","getState","countInStock","localStorage","setItem","JSON","stringify","cart","cartItems","ProductScreen","match","history","useState","setQty","productDetails","getProductDetails","params","value","onChange","e","target","Array","keys","x","onClick","push","CartItem","item","qtyChangeHandler","removeHandler","CartScreen","removeFromCart","length","reduce","Number","toFixed","Navbar","click","Backdrop","show","SideDrawer","sideDrawerClass","join","App","sideToggle","setSideToggle","exact","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","reducer","combineReducers","action","existItem","find","filter","middleware","thunk","INITIAL_STATE","getItem","parse","store","createStore","composeWithDevTools","applyMiddleware","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.29435ddf.chunk.js","sourcesContent":["import './Product.css'\r\nimport React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Product = ({ imageUrl, name, price, description, productId }) => {\r\n    return (\r\n        <div className=\"product\">\r\n            <img src={imageUrl} alt={name}/>\r\n            <div className=\"product__info\">\r\n                <p className=\"info__name\">{name}</p>\r\n                <p className=\"info__description\">\r\n                    {description.substring(0, 100)}...\r\n                </p>\r\n\r\n                <p className=\"info__price\">${price}</p>\r\n\r\n                <Link to={`/product/${productId}`} className=\"info__button\">\r\n                    View\r\n                </Link>\r\n\r\n            </div>\r\n\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Product\r\n","export const GET_PRODUCTS_REQUEST = \"GET_PRODUCTS_REQUEST\"\r\nexport const GET_PRODUCTS_SUCCESS = \"GET_PRODUCTS_SUCCESS\"\r\nexport const GET_PRODUCTS_FAIL = \"GET_PRODUCTS_FAIL\"\r\n\r\nexport const GET_PRODUCT_DETAILS_REQUEST = \"GET_PRODUCT_DETAILS_REQUEST\"\r\nexport const GET_PRODUCT_DETAILS_SUCCESS = \"GET_PRODUCT_DETAILS_SUCCESS\"\r\nexport const GET_PRODUCT_DETAILS_FAIL = \"GET_PRODUCT_DETAILS_FAIL\"\r\nexport const GET_PRODUCT_DETAILS_RESET = \"GET_PRODUCT_DETAILS_RESET\"","import React from 'react'\r\nimport \"./HomeScreen.css\"\r\nimport Product from \"../components/Product\";\r\n\r\nimport { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport { getProducts as listProducts } from '../redux/actions/productActions'\r\n\r\nconst HomeScreen = () => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const getProducts = useSelector(state => state.getProducts);\r\n    const{products, loading, error} = getProducts\r\n\r\n    useEffect(() => {\r\n        dispatch(listProducts())\r\n        console.log(products)\r\n    }, [dispatch])\r\n\r\n    return (\r\n        <div className=\"homescreen\">\r\n\r\n            <h2 className=\"title\">Latest Products</h2>\r\n\r\n            <div className=\"products\">\r\n                {loading ? (\r\n                <h2>Loading...</h2>\r\n                ) : error ? (\r\n                <h2>{error}</h2>\r\n                ) : (\r\n                products.map((product) => (<Product \r\n                    productId={product._id}\r\n                    key={product._id}\r\n                    name={product.name}\r\n                    price={product.price}\r\n                    description={product.description}\r\n                    imageUrl={product.imageUrl}\r\n\r\n                    />))\r\n                )}\r\n\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default HomeScreen\r\n","import * as actionTypes from '../constants/productConstants'\r\nimport axios from 'axios'\r\n\r\nexport const getProducts = () => async (dispatch) => {\r\n    try {\r\n        dispatch({type: actionTypes.GET_PRODUCTS_REQUEST});\r\n\r\n        const { data } = await axios.get('/api/products');\r\n        dispatch({\r\n            type:actionTypes.GET_PRODUCTS_SUCCESS,\r\n            payload: data\r\n        })\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: actionTypes.GET_PRODUCTS_FAIL,\r\n            payload: error.response && error.response.data.message\r\n                ? error.response.data.message\r\n                : error.message\r\n        })\r\n    }\r\n}\r\n\r\nexport const getProductDetails = (id) => async (dispatch) => {\r\n    try {\r\n        dispatch({ type: actionTypes.GET_PRODUCT_DETAILS_REQUEST });\r\n\r\n        const { data } = await axios.get(`/api/products/${id}`);\r\n        dispatch({\r\n            type: actionTypes.GET_PRODUCT_DETAILS_SUCCESS,\r\n            payload: data\r\n        })\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: actionTypes.GET_PRODUCT_DETAILS_FAIL,\r\n            payload: error.response && error.response.data.message\r\n                ? error.response.data.message\r\n                : error.message\r\n        })\r\n    }\r\n}\r\n\r\nexport const removeProductDetails = () => (dispatch) => {\r\n    dispatch({\r\n        type: actionTypes.GET_PRODUCT_DETAILS_RESET\r\n    })\r\n}","export const ADD_TO_CART = \"ADD_TO_CART\"\r\nexport const REMOVE_FROM_CART = \"REMOVE_FROM_CART\"\r\nexport const CART_RESET = \"CART_RESET\"","import * as actionTypes from '../constants/cartConstants'\r\nimport axios from 'axios'\r\n\r\nexport const addToCart = (id, qty) => async (dispatch, getState) => {\r\n    const { data } = await axios.get(`/api/products/${id}`)\r\n\r\n    dispatch({\r\n        type: actionTypes.ADD_TO_CART,\r\n        payload: {\r\n            product: data._id,\r\n            name: data.name,\r\n            imageUrl: data.imageUrl,\r\n            price: data.price,\r\n            countInStock: data.countInStock,\r\n            qty\r\n        }\r\n    })\r\n\r\n    localStorage.setItem('cart', JSON.stringify(getState().cart.cartItems))\r\n}\r\n\r\nexport const removeFromCart = (id) => (dispatch, getState) => {\r\n    dispatch({\r\n        type: actionTypes.REMOVE_FROM_CART,\r\n        payload: id\r\n    })\r\n\r\n    localStorage.setItem('cart', JSON.stringify(getState().cart.cartItems))\r\n}","import React from 'react'\r\nimport \"./ProductScreen.css\"\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport {addToCart} from '../redux/actions/cartActions'\r\nimport {getProductDetails} from '../redux/actions/productActions'\r\n\r\nconst ProductScreen = ({match, history}) => {\r\n\r\n    const [qty, setQty] = useState(1);\r\n    const dispatch = useDispatch();\r\n\r\n    const productDetails = useSelector(state => state.getProductDetails);\r\n    const { loading, error, product } = productDetails;\r\n\r\n    useEffect(() => {\r\n        if(product && match.params.id !== product._id) {\r\n            dispatch(getProductDetails(match.params.id))\r\n        }\r\n    }, [dispatch, product, match]);\r\n\r\n    const addToCartHandler = () => {\r\n        dispatch(addToCart(product._id, qty))\r\n        history.push(`/cart`)\r\n    }\r\n\r\n    return (\r\n        <div className=\"productscreen\">\r\n            {loading ? <h2>Loading...</h2> : error ? <h2>{error}</h2> : (\r\n                <>\r\n\r\n                    <div className=\"productscreen__left\">\r\n                        <div className=\"left__image\">\r\n                            <img src={product.imageUrl} alt={product.name} />\r\n                        </div>\r\n                        <div className=\"left__info\">\r\n                            <p className=\"left__name\">{product.name}</p>\r\n                            <p className=\"left__name\">Price: ${product.price}</p>\r\n                            <p className=\"left__name\">{product.description}</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"productscreen__right\">\r\n                        <div className=\"right__info\">\r\n                            <p>\r\n                                Price: <span>${product.price}</span>\r\n                            </p>\r\n                            <p>\r\n                                Status: <span>{product.countInStock > 0 ? \"In Stock\" : \"Unavailable\"}</span>\r\n                            </p>\r\n                            <p>\r\n                                Quantity:\r\n                                <select value={qty} onChange={(e) => setQty(e.target.value)}>\r\n                                    {[...Array(product.countInStock).keys()].map((x) => (\r\n                                        <option key={x+1} value={x+1}>{x+1}</option>\r\n                                    ))}\r\n\r\n                                </select>\r\n                            </p>\r\n                            <p>\r\n                                <button type=\"button\" onClick={addToCartHandler}>Add To Cart</button>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                </>\r\n            )}\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProductScreen\r\n","import './CartItem.css'\r\nimport React from 'react'\r\nimport {Link} from 'react-router-dom'\r\n\r\nconst CartItem = ({item, qtyChangeHandler, removeHandler}) => {\r\n    return (\r\n        <div className=\"cartitem\">\r\n            <div className=\"cartitem__image\">\r\n                <img src={item.imageUrl} alt={item.name}/>\r\n            </div>\r\n\r\n            <Link to={`/product/${item.product}`} className=\"cartitem__name\">\r\n                <p>{item.name}</p>\r\n            </Link>\r\n            \r\n            <p className=\"cartitem__price\">${item.price}</p>\r\n            \r\n            <select className=\"cartitem__select\" value={item.qty} onChange={(e) => qtyChangeHandler(item.product, e.target.value)}>\r\n                {[...Array(item.countInStock).keys()].map(x => (\r\n                    <option key={x+1} value={x+1}>{x+1}</option>\r\n                ))}\r\n            </select>\r\n\r\n            <button className=\"cartitem__delete\" onClick={() => removeHandler(item.product)}>\r\n                <i className=\"fas fa-trash\"></i>\r\n            </button>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CartItem\r\n","import React from 'react'\r\nimport \"./CartScreen.css\"\r\nimport CartItem from '../components/CartItem'\r\n\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport {Link} from 'react-router-dom'\r\n\r\nimport {addToCart, removeFromCart} from '../redux/actions/cartActions'\r\n\r\nconst CartScreen = () => {\r\n    const dispatch = useDispatch();\r\n    const cart = useSelector(state => state.cart);\r\n\r\n    const { cartItems } = cart\r\n\r\n    const qtyChangeHandler = (id, qty) => {\r\n        dispatch(addToCart(id, qty))\r\n    }\r\n\r\n    const removeHandler = (id) => {\r\n        dispatch(removeFromCart(id));\r\n    }\r\n    const getCartCount = () => {\r\n        return cartItems.reduce((qty, item) => Number(item.qty) + qty, 0)\r\n    }\r\n\r\n    const getCartSubtotal = () => {\r\n        return cartItems.reduce((price, item) => (item.price * item.qty) + price, 0)\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"cartscreen\">\r\n            <div className=\"cartscreen__left\">\r\n                <h2>Shopping Cart</h2>\r\n\r\n                {cartItems.length === 0 ? (\r\n                    <div>\r\n                        Your cart is empty <Link to=\"/\">Go Back</Link>\r\n                    </div>\r\n                ) : (\r\n                    cartItems.map(item => (\r\n                    <CartItem key={item.product} item={item} qtyChangeHandler={qtyChangeHandler} removeHandler={removeHandler} />\r\n                )))}\r\n\r\n\r\n\r\n            </div>\r\n            <div className=\"cartscreen__right\">\r\n                <div className=\"cartscreen__info\">\r\n                    <p>Subtotal ({getCartCount()}) items</p>\r\n                    <p>${getCartSubtotal().toFixed(2)}</p>\r\n                </div>\r\n                <div>\r\n                    <button>Proceed To Checkout</button>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CartScreen\r\n","import React from 'react'\r\nimport './Navbar.css'\r\nimport {Link} from 'react-router-dom'\r\nimport {useSelector} from 'react-redux'\r\n\r\nconst Navbar = ({ click }) => {\r\n\r\n    const cart = useSelector(state => state.cart)\r\n    const{cartItems} = cart\r\n\r\n    const getCartCount = () => {\r\n        return cartItems.reduce((qty, item) => qty + Number(item.qty), 0)\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <nav className=\"navbar\">\r\n\r\n            <div className=\"navbar__logo\">\r\n                <h2>MERN Shopping Cart</h2>\r\n            </div>\r\n\r\n            <ul className=\"navbar__links\">\r\n                <li>\r\n                    <Link to=\"/cart\" className=\"cart__link\">\r\n                        <i className=\"fas fa-shopping-cart\"></i>\r\n                        <span>\r\n                            cart\r\n                            <span className=\"cartlogo__badge\" >{getCartCount()}</span>\r\n                        </span>\r\n                    </Link>\r\n                </li>\r\n\r\n                <li>\r\n                    <Link to=\"/\">\r\n                        Shop\r\n                    </Link>\r\n                </li>\r\n\r\n            </ul>\r\n\r\n            <div className=\"hamburger__menu\" onClick={click}>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n            </div>\r\n\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar\r\n","import './Backdrop.css'\r\nimport React from 'react'\r\n\r\nconst Backdrop = ({ show, click }) => {\r\n    return show && <div className=\"backdrop\" onClick={click}></div>\r\n}\r\n\r\nexport default Backdrop\r\n","import React from 'react'\r\nimport './SideDrawer.css'\r\nimport { Link } from 'react-router-dom'\r\nimport {useSelector} from 'react-redux'\r\n\r\nconst SideDrawer = ({ show }) => {\r\n    const sideDrawerClass = [\"sidedrawer\"]\r\n\r\n    if(show) {\r\n        sideDrawerClass.push(\"show\");\r\n    }\r\n\r\n    const cart = useSelector(state => state.cart)\r\n    const{cartItems} = cart\r\n\r\n    const getCartCount = () => {\r\n        return cartItems.reduce((qty, item) => qty + Number(item.qty), 0)\r\n    }\r\n\r\n    return <div className={sideDrawerClass.join(\" \")}>\r\n        <ul className=\"sidedrawer__links\">\r\n            <li>\r\n                <Link to=\"/cart\">\r\n                    <i className=\"fas fa-shopping-cart\"></i>\r\n                <span>\r\n                    cart <span className=\"sidedrawer__cartbadge\">{getCartCount()}</span>\r\n                </span>\r\n                </Link>\r\n            </li>\r\n            <li>\r\n                <Link to=\"/\">\r\n                    Shop\r\n                </Link>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n\r\n}\r\n\r\nexport default SideDrawer\r\n","import { useState } from 'react';\nimport './App.css';\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom'\n\n// screens\nimport HomeScreen from './screens/HomeScreen';\nimport ProductScreen from './screens/ProductScreen';\nimport CartScreen from './screens/CartScreen';\n\n//components\nimport Navbar from './components/Navbar'\nimport Backdrop from './components/Backdrop';\nimport SideDrawer from './components/SideDrawer';\n\nfunction App() {\n  const [sideToggle, setSideToggle] = useState(false);\n\n  return (\n    <Router>\n        <Navbar click={() => setSideToggle(true)} />\n        <SideDrawer show={sideToggle} click={() => setSideToggle(false)} />\n        <Backdrop show={sideToggle} click={() => setSideToggle(false)} />\n\n        <main>\n          <Switch>\n            <Route exact path=\"/\" component={HomeScreen} />\n            <Route exact path=\"/product/:id\" component={ProductScreen} />\n            <Route exact path=\"/cart\" component={CartScreen} />\n          </Switch>\n        </main>\n\n        {/* home screen */}\n        {/*  product screen */}\n        {/* cart screen */}\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\n\r\nimport { cartReducer } from './reducers/cartReducers'\r\nimport { getProductsReducer, getProductDetailsReducer } from './reducers/productReducers'\r\n\r\nconst reducer = combineReducers({\r\n    cart: cartReducer,\r\n    getProducts: getProductsReducer,\r\n    getProductDetails: getProductDetailsReducer\r\n\r\n})\r\n\r\nconst middleware = [thunk];\r\n\r\nconst cartFromLocalStorage = localStorage.getItem(\"cart\") ? JSON.parse(localStorage.getItem(\"cart\")) : []\r\n\r\nconst INITIAL_STATE = {\r\n    cart: {\r\n        cartItems: cartFromLocalStorage\r\n    }\r\n}\r\n\r\nconst store = createStore(\r\n    reducer,\r\n    INITIAL_STATE,\r\n    composeWithDevTools(applyMiddleware(...middleware))\r\n);\r\n\r\nexport default store","import * as actionTypes from '../constants/cartConstants'\r\n\r\nexport const cartReducer = (state = {cartItems: []}, action) => {\r\n    switch(action.type) {\r\n        case actionTypes.ADD_TO_CART:\r\n            const item = action.payload;\r\n\r\n            const existItem = state.cartItems.find((x) => x.product === item.product);\r\n\r\n            if (existItem) {\r\n                return {\r\n                    ...state,\r\n                    cartItems: state.cartItems.map((x) => x.product === existItem.product ? item : x),\r\n                }; \r\n            } else {\r\n                return {\r\n                    ...state,\r\n                    cartItems: [...state.cartItems, item],\r\n                }\r\n            }\r\n\r\n            case actionTypes.REMOVE_FROM_CART:\r\n                return {\r\n                    ...state,\r\n                    cartItems: state.cartItems.filter((x) => x.product !== action.payload)\r\n                }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}","import * as actionTypes from '../constants/productConstants'\r\n\r\nexport const getProductsReducer = (state= { products: [] }, action) => {\r\n    switch (action.type) {\r\n        case actionTypes.GET_PRODUCTS_REQUEST:\r\n            return {\r\n                loading: true,\r\n                products: []\r\n            }\r\n        case actionTypes.GET_PRODUCTS_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                products: action.payload\r\n            }\r\n        case actionTypes.GET_PRODUCTS_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const getProductDetailsReducer = (state = { product: {} }, action) => {\r\n    switch (action.type) {\r\n        case actionTypes.GET_PRODUCT_DETAILS_REQUEST:\r\n            return{\r\n                loading: true\r\n            }\r\n        case actionTypes.GET_PRODUCT_DETAILS_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                product: action.payload\r\n            }\r\n        case actionTypes.GET_PRODUCT_DETAILS_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n        case actionTypes.GET_PRODUCT_DETAILS_RESET:\r\n            return {\r\n                product: {}\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport { Provider } from 'react-redux'\nimport store from './redux/store'\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}